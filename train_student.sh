#!/usr/bin/env bash
export CUDA_VISIBLE_DEVICES=0,1,2,3
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_regular_comb/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -enc_distillation_mode regular_comb -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_regular_comb -alpha 0.2 -beta 0.7 -log_file experiment_regular_comb.log
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_skip_pkd/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -enc_distillation_mode skip -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_skip_pkd -alpha 0.2 -beta 0.7 -log_file experiment_pkd_skip.log
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_cross_comb/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -enc_distillation_mode cross_comb -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_cross_comb -alpha 0.2 -beta 0.7 -log_file experiment_cross_comb.log
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_overlap_comb/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -enc_distillation_mode overlap -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_overlap_comb -alpha 0.2 -beta 0.7 -log_file experiment_overlap_comb.log
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_skip_middle/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -enc_distillation_mode skip_middle -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_skip_middle -alpha 0.2 -beta 0.7 -log_file experiment_skip_middle.log
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_skip_comb/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -enc_distillation_mode overlap -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_skip_comb -alpha 0.2 -beta 0.7 -log_file experiment_skip_comb.log
python train.py -data experiments/data_dir/processed  -save_model experiments/transformer_rkd/model -logit_distillation -config config/distillation/transformer-2layer.yml -world_size 4 -teacher experiments/transformer_base/model_25000.pt -val_result_file experiments/valid_student_transformer_log_rkd -alpha 0.2 -beta 0 -log_file experiment_rkd.log
